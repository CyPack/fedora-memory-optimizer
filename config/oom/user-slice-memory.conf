# Fedora Memory Optimizer - User Slice Memory Limits
# ==================================================
#
# This limits total memory that user applications can use
# Reserves 1-2GB for system components (GNOME, services)
#
# Install to: /etc/systemd/system/user-.slice.d/50-memory-limit.conf
#
# Generated by: Fedora Memory Optimizer v1.0.0

[Slice]
# MemoryHigh: Soft limit - throttling starts here
# Set to 80% of RAM (for 16GB = 13GB)
# When exceeded, processes are throttled (slowed) but NOT killed
MemoryHigh=80%

# MemoryMax: Hard limit - OOM killer triggers here
# Set to 87.5% of RAM (for 16GB = 14GB)
# Leaves 2GB for system.slice
MemoryMax=87%

# MemorySwapMax: Maximum swap that user slice can use
# Allow full swap usage - earlyoom manages swap pressure intelligently
# earlyoom triggers at swap > 90% and kills by oom_score
MemorySwapMax=infinity

# ManagedOOMSwap: Enable systemd-oomd monitoring for this slice
ManagedOOMSwap=kill

# ManagedOOMMemoryPressure: Enable pressure-based OOM
ManagedOOMMemoryPressure=kill
ManagedOOMMemoryPressureLimit=80%
